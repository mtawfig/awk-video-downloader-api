const fetch = require('node-fetch');
const {extract} = require('./extractContent');
const formatInput = require('./formatInput');

const scrape = async (input) => {
  const {url, normalised} = formatInput(input);
  const html = await fetch(url).then(res => res.text());
  const result = extract(html);
  return {
    ...result,
    url,
    normalised,
  }
}

module.exports = {
  scrape,
  normalise: formatInput,
  sctractFromHtml: extract,
};